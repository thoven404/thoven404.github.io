# 单目初始化

## 流程
1. 遍历所有过去帧，找到过去帧与最新帧之间的特征点关联，如果找到特征点关联数量大于20，且视差大于30的一帧。```bool Estimator::relativePose(Matrix3d &relative_R, Vector3d &relative_T, int &l)```
2. 计算步骤1找到的帧与最新帧之间的位姿变换：（1）通过特征点关联计算本质矩阵；（2）由本质矩阵计算两帧之间的相对位姿变换，以及关联特征点的内点数量；（3）如果内点数量大于12，则计算成功，否则返回步骤1。
3. 三角化得到两帧之间的关联特征点的三维坐标；
4. pnp计算滑动窗口中其它帧的位姿，然后再计算其观测到的特征点的三维坐标；
5. 构建重投影误差项，优化滑动窗口中除用于计算本质矩阵的两帧外的相机位姿。
6. 对滑窗关键帧外的其他所有帧都pnp计算得到位姿